{% extends "AUTHORITY/authoritybase.html" %}
{% block body %}
{% load static %}

<link rel="stylesheet" href="{% static 'css/user.css' %}">  

<div class="body1">

    <!-- Navbar with logo and title in the center -->
    <div class="container">
        
        <!-- Sidebar with profile links -->
        <div class="con">
            <div class="profile">
                {% for i in obj %}
                <!-- Assign a unique data-target for each user, like section-{{ forloop.counter }} -->
                <img src={{ i.STAFF.Profile.url }} alt="Profile Picture" style="width: 50px; height: 50px; border-radius:50%">
                <a class="nav-link" data-target="section-{{ forloop.counter }}">
                    {{ i.STAFF.First_name }} {{ i.STAFF.Mid_name }} {{ i.STAFF.Last_name }}
                </a>
                {% endfor %}
            </div>
        </div>

        <!-- Divider line -->
        <div class="card"></div>

        <!-- Main content section -->
        <div class="content">
            {% for i in obj %}
            <!-- Give each section a unique ID, e.g., section-1, section-2, etc. -->
            <div id="section-{{ forloop.counter }}" class="section">
                <h2>{{ i.STAFF.First_name }} {{ i.STAFF.Mid_name }} {{ i.STAFF.Last_name }}</h2>
                <p><b>Consumer no : </b>{{ i.Consumer_no }}</p>
                <p><b>Complaint no : </b>{{ i.Complaint_no }}</p>
                <img src={{ i.Upload_photo.url }} alt="Profile Picture" style="width: 100px; height: 100px;">
                <b><p>description : {{ i.description }}</p></b>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<script>
    const navLinks = document.querySelectorAll('.nav-link');

    navLinks.forEach(link => {
        link.addEventListener('click', function(event) {
            event.preventDefault();

            // Remove 'active' class from all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });

            // Get the target section from the data-target of the clicked link
            const targetSection = document.getElementById(this.dataset.target);

            // Add 'active' class to the targeted section
            targetSection.classList.add('active');
        });
    });
</script>

{% endblock %}